



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Docmentation for the OMNeT++ Simulator">
      
      
        <link rel="canonical" href="https://docs.omnetpp.org/tutorials/swarm/page1/">
      
      
        <meta name="author" content="OMNeT++ Team">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.3">
    
    
      
        <title>Installation and Usage - OMNeT++ Tutorials</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.8d40d89b.css">
      
    
    
    
      <script src="../../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    <script>
    // handle <a srcfile></a> references to source files
    document.addEventListener("DOMContentLoaded", function (event) {
        $('a[srcfile]').each(function(i) {
            var srcref = $(this).attr('srcfile');
            var name = srcref.replace(/.*\//g, "");
            $(this).text(name);
            $(this).attr('href', '/showfile/?url='+srcref);
            $(this).attr('target', '_blank');
        });
    });
    // function th show a full size image when clicked ona thumbnail
    imageFullSizeZoom = function(img){
        img = $(img);
        let fullSizeSrc = img.attr('src').replace(/.thumb.jpg$/, '.png');

        $(document.body).append(
        '<div class="fullscreenimgshade" onclick="$(this).remove();">' +
            '<img src="' + fullSizeSrc + '" class="fullscreenimg"/>' +
        '</div>'
        );
    };
    </script>

    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../stylesheets/omnetpp-docs.css">
    
      <link rel="stylesheet" href="../../../stylesheets/rainbow.css">
    
      <link rel="stylesheet" href="../../../stylesheets/rainbow.linenumbers.theme.css">
    
      <link rel="stylesheet" href="../../../stylesheets/jupyter.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#installation" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://docs.omnetpp.org/" title="OMNeT++ Tutorials" class="md-header-nav__button md-logo">
          
            <i class="md-icon">î Œ</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                OMNeT++ Tutorials
              </span>
              <span class="md-header-nav__topic">
                Installation and Usage
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/omnetpp/docs.omnetpp.org/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      omnetpp/docs.omnetpp.org
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon md-icon--home"></i>
      
    </span>
    OMNeT++ Tutorials
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/omnetpp/docs.omnetpp.org/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      omnetpp/docs.omnetpp.org
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
        
        
        


  <li class="md-nav__item">
    <a href="../../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

      
    
      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Learn OMNeT++ with TicToc
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Learn OMNeT++ with TicToc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/part1/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/part2/" title="Running the Simulation" class="md-nav__link">
      Running the Simulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/part3/" title="Enhancing the 2-node TicToc" class="md-nav__link">
      Enhancing the 2-node TicToc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/part4/" title="Turning it Into a Real Network" class="md-nav__link">
      Turning it Into a Real Network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/part5/" title="Adding Statistics Collection" class="md-nav__link">
      Adding Statistics Collection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/part6/" title="Visualizing the Results" class="md-nav__link">
      Visualizing the Results
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/part7/" title="Parameter Studies" class="md-nav__link">
      Parameter Studies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tictoc/conclusion/" title="Closing words" class="md-nav__link">
      Closing words
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
    
      
        
        
        


  <li class="md-nav__item">
    <a href="../../pandas/" title="Result Analysis with Python" class="md-nav__link">
      Result Analysis with Python
    </a>
  </li>

      
    
      
        
        
        


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Introduction into Running Simulations in the Cloud
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Introduction into Running Simulations in the Cloud
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../cloud/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cloud/page1/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cloud/page2/" title="Implementation" class="md-nav__link">
      Implementation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cloud/page4/" title="Deploying on AWS" class="md-nav__link">
      Deploying on AWS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cloud/page5/" title="Trying It Out" class="md-nav__link">
      Trying It Out
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cloud/page6/" title="Examining the Code" class="md-nav__link">
      Examining the Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../cloud/page7/" title="Potential Improvements, Alternatives" class="md-nav__link">
      Potential Improvements, Alternatives
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
    
      
        
        
        

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Running INET Simulation Campaigns on AWS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Running INET Simulation Campaigns on AWS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Motivation" class="md-nav__link">
      Motivation
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Installation and Usage
      </label>
    
    <a href="./" title="Installation and Usage" class="md-nav__link md-nav__link--active">
      Installation and Usage
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deployment-on-aws" title="Deployment on AWS" class="md-nav__link">
    Deployment on AWS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-an-aws-account" title="Creating an AWS Account" class="md-nav__link">
    Creating an AWS Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-access-policy" title="Creating the Access Policy" class="md-nav__link">
    Creating the Access Policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-user" title="Creating the User" class="md-nav__link">
    Creating the User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-cli-access" title="Configuring CLI Access" class="md-nav__link">
    Configuring CLI Access
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-local-client-scripts" title="Installing Local Client Scripts" class="md-nav__link">
    Installing Local Client Scripts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-simulations" title="Running Simulations" class="md-nav__link">
    Running Simulations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopping-restarting-and-deleting-the-swarm" title="Stopping, Restarting and Deleting the Swarm" class="md-nav__link">
    Stopping, Restarting and Deleting the Swarm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-the-status-manually" title="Checking the Status Manually" class="md-nav__link">
    Checking the Status Manually
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feedback-and-discussion" title="Feedback and Discussion" class="md-nav__link">
    Feedback and Discussion
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../page2/" title="How it Works" class="md-nav__link">
      How it Works
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

      
    
      
    
      
    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deployment-on-aws" title="Deployment on AWS" class="md-nav__link">
    Deployment on AWS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-an-aws-account" title="Creating an AWS Account" class="md-nav__link">
    Creating an AWS Account
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-access-policy" title="Creating the Access Policy" class="md-nav__link">
    Creating the Access Policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-the-user" title="Creating the User" class="md-nav__link">
    Creating the User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-cli-access" title="Configuring CLI Access" class="md-nav__link">
    Configuring CLI Access
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-local-client-scripts" title="Installing Local Client Scripts" class="md-nav__link">
    Installing Local Client Scripts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-simulations" title="Running Simulations" class="md-nav__link">
    Running Simulations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopping-restarting-and-deleting-the-swarm" title="Stopping, Restarting and Deleting the Swarm" class="md-nav__link">
    Stopping, Restarting and Deleting the Swarm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-the-status-manually" title="Checking the Status Manually" class="md-nav__link">
    Checking the Status Manually
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feedback-and-discussion" title="Feedback and Discussion" class="md-nav__link">
    Feedback and Discussion
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/omnetpp/docs.omnetpp.org/edit/master/docs/tutorials/swarm/page1.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Installation and Usage</h1>
                
                <p>In this page we show you how to deploy and use the tools to run simulations on AWS.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>The solution and the toolset presented here are currently experimental, and we are collecting
feedback about it. Please let us know if you are interested, and if you try it,
we request you to report bugs, errors or any difficulty you experience in using it.
We'd also be happy to hear about successful usage.
Use the bugtracker link at the bottom of this page for feedback.</p>
</div>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p>Install Docker, python3 and pip3 on your local computer. We recommend that you use Linux.
A working OMNeT++ installation, and a checked-out INET (fork) git repository is also necessary.</p>
<h3 id="deployment-on-aws">Deployment on AWS<a class="headerlink" href="#deployment-on-aws" title="Permanent link">&para;</a></h3>
<h4 id="creating-an-aws-account">Creating an AWS Account<a class="headerlink" href="#creating-an-aws-account" title="Permanent link">&para;</a></h4>
<p>To access any web service AWS offers, you must first create an AWS account at <a href="http://aws.amazon.com">http://aws.amazon.com</a>.
If you already have one, just log in to the <a href="https://console.aws.amazon.com">AWS Management Console</a> with it;
otherwise, follow the instructions here: <a href="https://portal.aws.amazon.com/gp/aws/developer/registration/index.html">AWS registration</a>.</p>
<p>During registration, you will have to enter your credit card number. Amazon will charge it with a small amount (1 USD) to verify it.</p>
<h4 id="creating-the-access-policy">Creating the Access Policy<a class="headerlink" href="#creating-the-access-policy" title="Permanent link">&para;</a></h4>
<p>On the AWS Management Console, navigate to the IAM Service configuration page, and switch to <strong>Policies</strong>. Or just
click <a href="https://console.aws.amazon.com/iam/home#/policies">this link</a>, it will take you there.</p>
<p>Click the <strong>Create policy</strong> button. Switch over to the <strong>JSON</strong> tab.
Paste the contents of <a href="../code/docker-for-aws-policy.json">this file</a> into the entry field, replacing its entire contents.</p>
<p>This policy is the superset of the officially published one on the <a href="https://docs.docker.com/docker-for-aws/iam-permissions/">Docker for AWS website</a>.
It had to be slightly altered to make it fit into the default size limit, so it grants slightly more privileges than necessary.
It also adds the <code class="codehilite"><span class="n">ec2</span><span class="o">:</span><span class="n">CreateKeyPair</span></code> and the <code class="codehilite"><span class="n">cloudwatch</span><span class="o">:</span><span class="n">PutMetricAlarm</span></code> permissions.
These are necessary to automate the connection to the swarm, and the shutting down of the machines after they have been idle for a while.</p>
<p>Click <strong>Review policy</strong>. Enter a <strong>Name</strong> for the new policy, for example "inet-docker-swarm-policy", then click <strong>Create policy</strong>.</p>
<h4 id="creating-the-user">Creating the User<a class="headerlink" href="#creating-the-user" title="Permanent link">&para;</a></h4>
<p>Switch over to <a href="https://console.aws.amazon.com/iam/home#/users"><strong>Users</strong></a> and click <strong>Add user</strong>.</p>
<p>Enter a <strong>User name</strong>, for example "inet-swarm-cli", and tick the checkbox next to <strong>Programmatic access</strong>. Leave the other checkbox unchecked. Click <strong>Next: Permissions</strong>. Select <strong>Attach existing policies directly</strong>, search for the name of the policy we just created <em>(by typing in a part of it, like "inet")</em>, then check the checkboy next to it, and click <strong>Next: Review</strong> at the bottom. If everything looks alright, click <strong>Create user</strong>.</p>
<p>As the final step of user creation, save the <strong>Access key ID</strong> and the <strong>Secret access key</strong>, somewhere safe. It's a good idea that you do this by clicking <strong>Download .csv</strong>. This will let you download this information into a simple text file, so you won't make any mistakes while copy-pasting them.</p>
<p>Also, read the notice in the green area, particularly this part:
<em>"This is the last time these credentials will be available to download. However, you can create new credentials at any time."</em>
This means that if you don't save the key ID and the secret key now, you will have to delete this user and create a new one.</p>
<div class="admonition caution">
<p class="admonition-title">Important</p>
<p>Keep these strings private, since these grant access to your account, without the need for your password or other credentials.
(Of course, only until you delete this user, or revoke its permissions.) Treat them with similar caution as you do your passwords.</p>
</div>
<h4 id="configuring-cli-access">Configuring CLI Access<a class="headerlink" href="#configuring-cli-access" title="Permanent link">&para;</a></h4>
<p>To let your computer manage and use your AWS account, we have to configure it with the credentials of the user you just created for it.
First we need to install the AWS CLI utility using <code class="codehilite">pip</code>:</p>
<div class="codehilite"><pre><span></span>$ pip3 install --user --upgrade awscli
</pre></div>

<p>Then start the configuration:</p>
<div class="codehilite"><pre><span></span>$ aws configure
</pre></div>

<p>If at first you get <code class="codehilite"><span class="n">aws</span><span class="o">:</span> <span class="n">command</span> <span class="n">not</span> <span class="n">found</span></code>, or <code class="codehilite">The program &#39;aws&#39; is currently not installed</code>, try running <code class="codehilite">~/.local/bin/aws configure</code> instead.</p>
<p>When asked, enter the <strong>Access Key ID</strong>, then the <strong>Secret Access Key</strong>. They will be recorded into an INI file, which is by default at <code class="codehilite">~/.aws/credentials</code>.</p>
<p>For <strong>Default region</strong>, choose the one closest to you geographically. You can find the list of region codes and their locations
<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html#concepts-available-regions">here</a>.
In my case, the Frankfurt datacenter was closest, so I entered <code class="codehilite">eu-central-1</code>. This setting is recorded in the <code class="codehilite">~/.aws/config</code> file.
You can find more info about Regions and Availability Zones
<a href="https://docs.aws.amazon.com/general/latest/gr/rande.html">here</a>,
<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html">here</a>, and
<a href="https://aws.amazon.com/about-aws/global-infrastructure/">here</a>.</p>
<p>You can leave <strong>Default output format</strong> empty.</p>
<div class="admonition caution">
<p class="admonition-title">Important</p>
<p>Once all this information is entered correctly, any software you run on your computer has access
to your AWS account, as permitted by the policy attached to the configured user.
Remove (rename) the <code class="codehilite">credentials</code> file mentioned above to (temporarily) disable access.
The proper way to completely and permanently revoke this access is to delete the IAM User we just created.</p>
</div>
<p>From this point on in this tutorial, we won't need the AWS Management Console to initiate any actions. However, if you wish, you can use it to observe and check for yourself what the <code class="codehilite">aws_swarm_tool.py</code> script does.</p>
<h3 id="installing-local-client-scripts">Installing Local Client Scripts<a class="headerlink" href="#installing-local-client-scripts" title="Permanent link">&para;</a></h3>
<p>Having set up your AWS account and access to it, we can proceed by installing the client-side tools for submitting simulations.</p>
<p>First, install the required Python libraries:</p>
<div class="codehilite"><pre><span></span>$ pip3 install --user --upgrade boto3 psutil pymongo redis rq
</pre></div>

<p>Save the following files into <code class="codehilite">~/.local/bin</code>:</p>
<ul>
<li><a href="../code/aws_swarm_tool.py">aws_swarm_tool.py</a></li>
<li><a href="../code/docker-compose.yml">docker-compose.yml</a></li>
<li><a href="../code/inet_runall_swarm.py">inet_runall_swarm.py</a></li>
</ul>
<p>Make the script files executable, and put <code class="codehilite">~/.local/bin</code> into the PATH if it does not already contain it:</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> ~/.local/bin<span class="p">;</span> chmod +x aws_swarm_tool.py inet_runall_swarm.py
$ <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/.local/bin
</pre></div>

<p>Run the following command to set up the virtual machines and necessary infrastructure on AWS,
and perform local configuration for accessing it:</p>
<div class="codehilite"><pre><span></span>$ aws_swarm_tool.py init
</pre></div>

<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<h3 id="running-simulations">Running Simulations<a class="headerlink" href="#running-simulations" title="Permanent link">&para;</a></h3>
<p>Change into the directory under INET (or your INET fork) that contains your simulation.</p>
<p>IMPORTANT: Your INET installation should be a checked-out copy of a GitHub repository with all changes pushed up to GitHub,
because our tool only sends the Git URL of your project and the hash of the currently checked-out commit to AWS, not the full source code.
Additionally, OMNeT++ should be ready to use, with its tools (like <code class="codehilite">opp_run</code> or <code class="codehilite">opp_run_dbg</code>) accessible as commands.</p>
<div class="codehilite"><pre><span></span>$ <span class="nb">cd</span> examples/inet/ber
</pre></div>

<p>Enter the command for running the simulations, using our <code class="codehilite">inet_runall_swarm.py</code> program instead of <code class="codehilite">./run</code> or <code class="codehilite">inet</code>:</p>
<div class="codehilite"><pre><span></span>$ inet_runall_swarm.py -c ber-flavour-experiment
</pre></div>

<p>The <code class="codehilite">inet_runall_swarm.py</code> tool will expand the list of simulation runs to be executed, submit them to the job queue, and wait for the jobs to finish.
The results will be downloaded automatically into the <code class="codehilite">results</code> folder.</p>
<p>You can monitor progress at <a href="http://localhost:9181/">http://localhost:9181/</a> which displays the content of the job queue.</p>
<h3 id="stopping-restarting-and-deleting-the-swarm">Stopping, Restarting and Deleting the Swarm<a class="headerlink" href="#stopping-restarting-and-deleting-the-swarm" title="Permanent link">&para;</a></h3>
<p>Once you are done, you can stop the machines:</p>
<div class="codehilite"><pre><span></span>$ aws_swarm_tool.py halt
</pre></div>

<p>They will also shut down automatically after an hour of being idle.</p>
<div class="admonition caution">
<p class="admonition-title">Important</p>
<p>AWS usage is billed by uptime, i.e. you are charged for the time the Swarm is up and running,
regardless whether you are actually using it for simulations or not. Our tool configures AWS
to halt the Swarm after one hour of idle time, but for extra safety, double-check that the
Swarm has been stopped after you have finished working with it. WE ARE NOT RESPONSIBLE FOR
EXTRA COSTS CAUSED BY LEAVING AWS NODES RUNNING. Read on for instructions.</p>
</div>
<p>The <code class="codehilite">halt</code> command only shuts down the virtual machine instances, but leaves all other resources intact,
this way resuming the usage is faster than the initial deployment (with <code class="codehilite">init</code>). These additional
resources being there inactively do not cost you anything.</p>
<p>To use the Swarm again, you have to start it up again:</p>
<div class="codehilite"><pre><span></span>$ aws_swarm_tool.py resume
</pre></div>

<p>To completely delete the entire Swarm:</p>
<div class="codehilite"><pre><span></span>$ aws_swarm_tool.py delete
</pre></div>

<h3 id="checking-the-status-manually">Checking the Status Manually<a class="headerlink" href="#checking-the-status-manually" title="Permanent link">&para;</a></h3>
<div class="admonition caution">
<p class="admonition-title">Important</p>
<p>When you do not intend to work with AWS for an extended period of time, you may want to
double-check manually that the stack on AWS has been stopped indeed, and you are no longer
being billed for it.</p>
</div>
<p>To check the status, select the EC2 service on the AWS Management Console,
and check the <a href="https://console.aws.amazon.com/ec2/v2/home#Instances">Running Instances</a>.
If you see instances named <code class="codehilite">inet-Node</code> or <code class="codehilite">inet-Manager</code>, in the <code class="codehilite">running</code> state, the Swarm is active.</p>
<p>To delete the Swarm manually (if the command-line tool does not work for some reason), go to the
<a href="https://console.aws.amazon.com/cloudformation/home#/stacks">CloudFormation service page</a> on
the AWS Management Console. Tick the checkbox next to the <code class="codehilite">inet</code> Stack in the table, then click
<strong>Actions &gt; Delete Stack</strong>. This should remove all INET-related resources.</p>
<h2 id="feedback-and-discussion">Feedback and Discussion<a class="headerlink" href="#feedback-and-discussion" title="Permanent link">&para;</a></h2>
<p>We are looking for any kind of feedback or suggestion you might have regarding this tutorial here:
<a href="https://github.com/omnetpp/omnetpp-tutorials/issues/3">https://github.com/omnetpp/omnetpp-tutorials/issues/3</a></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../" title="Motivation" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Motivation
              </span>
            </div>
          </a>
        
        
          <a href="../page2/" title="How it Works" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                How it Works
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 OpenSim Ltd.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
      <a href="http://omnetpp.org" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/omnetpp/docs.omnetpp.org" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/omnetpp" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:"../../.."}})</script>
      
        <script src="../../../javascripts/jquery-3.2.1.min.js"></script>
      
        <script src="../../../javascripts/quoting.js"></script>
      
        <script src="../../../javascripts/rainbow-custom.min.js"></script>
      
        <script src="../../../javascripts/rainbow.linenumbers.min.js"></script>
      
        <script src="../../../javascripts/rainbow-ini.js"></script>
      
        <script src="../../../javascripts/rainbow-ned.js"></script>
      
        <script src="../../../javascripts/rainbow-yaml.js"></script>
      
        <script src="../../../javascripts/rainbow-dockerfile.js"></script>
      
        <script src="../../../javascripts/rainbow-html.js"></script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-240922-2","docs.omnetpp.org"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>